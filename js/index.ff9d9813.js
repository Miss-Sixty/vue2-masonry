(function(t){function e(e){for(var a,n,l=e[0],s=e[1],p=e[2],u=0,h=[];u<l.length;u++)n=l[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&h.push(r[n][0]),r[n]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);d&&d(e);while(h.length)h.shift()();return o.push.apply(o,p||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],a=!0,l=1;l<i.length;l++){var s=i[l];0!==r[s]&&(a=!1)}a&&(o.splice(e--,1),t=n(n.s=i[0]))}return t}var a={},r={index:0},o=[];function n(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=a,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var p=0;p<l.length;p++)e(l[p]);var d=s;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("a1ec")},"70e1":function(t,e,i){var a=i("85a2");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=i("85cb").default;r("16adaebc",a,!0,{sourceMap:!1,shadowMode:!1})},"85a2":function(t,e,i){var a=i("b352");e=a(!1),e.push([t.i,".masonry[data-v-17123ab7]{position:relative}.masonry-box[data-v-17123ab7]{position:absolute;overflow:hidden}",""]),t.exports=e},a1ec:function(t,e,i){"use strict";i.r(e);var a=i("0261"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"toolsBar"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.radio,expression:"radio"}],attrs:{name:"setting",type:"radio",value:"1"},domProps:{checked:t._q(t.radio,"1")},on:{change:function(e){t.radio="1"}}}),t._v("设置宽度模式 ")]),i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.radio,expression:"radio"}],attrs:{name:"setting",type:"radio",value:"2"},domProps:{checked:t._q(t.radio,"2")},on:{change:function(e){t.radio="2"}}}),t._v("设置列数模式 ")]),i("br"),i("label",{staticClass:"label-input"},[t._v(" "+t._s("1"===t.radio?"宽度":"列数")+" "),"1"===t.radio?i("input",{directives:[{name:"model",rawName:"v-model",value:t.width,expression:"width"}],attrs:{type:"text"},domProps:{value:t.width},on:{input:function(e){e.target.composing||(t.width=e.target.value)}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t.col,expression:"col"}],attrs:{type:"text"},domProps:{value:t.col},on:{input:function(e){e.target.composing||(t.col=e.target.value)}}})]),i("label",{staticClass:"label-input"},[t._v(" 横向间隔 "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.gapWidth,expression:"gapWidth"}],attrs:{type:"text"},domProps:{value:t.gapWidth},on:{input:function(e){e.target.composing||(t.gapWidth=e.target.value)}}})]),i("label",{staticClass:"label-input"},[t._v(" 纵向间隔 "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.gapHeight,expression:"gapHeight"}],attrs:{type:"text"},domProps:{value:t.gapHeight},on:{input:function(e){e.target.composing||(t.gapHeight=e.target.value)}}})]),i("br"),i("label",{staticClass:"label-input"},[t._v(" 圆角 "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.radius,expression:"radius"}],attrs:{type:"text"},domProps:{value:t.radius},on:{input:function(e){e.target.composing||(t.radius=e.target.value)}}})]),i("label",{staticClass:"label-input"},[t._v(" 阴影 "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.boxShadow,expression:"boxShadow"}],staticStyle:{width:"200px"},attrs:{type:"text"},domProps:{value:t.boxShadow},on:{input:function(e){e.target.composing||(t.boxShadow=e.target.value)}}})])]),i("masonry",{attrs:{list:t.imgs,width:"1"===t.radio?t.width:null,gapWidth:t.gapWidth,gapHeight:t.gapHeight,col:"2"===t.radio?t.col:null,radius:t.radius,urlName:t.urlName,boxShadow:t.boxShadow},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return[i("div",{staticClass:"text"},[i("p",[t._v(t._s(a.title))]),i("p",[t._v(t._s(a.text))])])]}}])})],1)},o=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"masonry"},t._l(t.imgsArr_c,(function(e,a){return i("div",{key:a,staticClass:"masonry-box",style:t.boxStyle},[i("img",{staticStyle:{display:"block"},attrs:{src:e.url,width:"100%",height:"auto"}}),t._t("default",null,{data:e,index:a})],2)})),0)},l=[],s={name:"vue2-masonry",props:{list:{type:Array,require:!0},gapWidth:{type:[String,Number],default:10,validator:t=>t>=0},gapHeight:{type:[String,Number],default:10,validator:t=>t>=0},col:{type:[String,Number],validator:t=>t>=0},radius:{type:[String,Number],default:"5"},boxShadow:{type:String,default:"0 2px 12px 0 rgba(0, 0, 0, 0.1)"},width:{type:[String,Number],default:300,validator:t=>t>=0},line:{default:"v",validator:t=>~["v","h"].indexOf(t)},urlName:{type:String,default:"url"}},data(){return{loadedCount:0,heightArray:[],imgsArr_c:[],imgBoxEls:null,beginIndex:0,clientWidth:0}},computed:{gapW(){return parseInt(this.gapWidth)},gapH(){return parseInt(this.gapHeight)},imgWidth(){return parseInt(this.width)},boxWidth(){const{col:t,clientWidth:e,imgWidth:i,gapW:a}=this;return t?(e-(t-1)*a)/t:i},colCount(){const{col:t,clientWidth:e,imgWidth:i,gapW:a}=this;return t?parseInt(t):~~((e+a)/(i+a))},getLeft(){const{col:t,clientWidth:e,boxWidth:i,colCount:a,gapW:r}=this;return t?0:(e-((i+r)*a-r))/2},boxStyle(){return{width:this.addUnit(this.boxWidth),borderRadius:this.addUnit(this.radius),boxShadow:this.boxShadow}}},watch:{list(){this.preload()},clientWidth(){this.reset()},width(){this.reset()},col(){this.reset()},gapWidth(){this.reset()},gapHeight(){this.reset()},radius(){this.reset()},boxShadow(){this.reset()},urlName(){this.reset()}},mounted(){this.preload(),this.getClientWidth(),window.addEventListener("resize",()=>{clearTimeout(this.timer),this.timer=setTimeout(this.getClientWidth,300)})},methods:{preload(){let t=this.list.length;for(let e=0;e<t;e++){if(e<this.loadedCount)return;let i=this.list[e],a=new Image;a.src=i.url,a.onload=a.onerror=e=>{this.loadedCount++,e.type,this.loadedCount===t&&(this.imgsArr_c=this.list.concat([]),this.imgBoxEls=this.$el.children,this.$nextTick(()=>{this.calculate(),this.getClientWidth()}))}}},getClientWidth(){this.clientWidth!==this.$el.clientWidth&&(this.clientWidth=this.$el.clientWidth)},calculate(){let t="h"===this.line?this.horizontalLineProcessor:this.verticalLineProcessor;t()},verticalLineProcessor(){if(!this.imgBoxEls)return;0===this.beginIndex&&(this.heightArray=[]);const{imgBoxEls:t,list:e,colCount:i,gapH:a,gapW:r,getLeft:o}=this;let n,l,s,p=this.boxWidth+r,d=t.length;for(let u=this.beginIndex;u<d;u++){let t=this.imgBoxEls[u];if(s=t.offsetHeight+a,u<i)this.heightArray.push(t.offsetHeight),l=u*p+o,n=0;else{let t=Math.min.apply(null,this.heightArray),e=this.heightArray.indexOf(t);n=t+a,l=e*p+o,this.heightArray[e]=t+s}t.style.left=l+"px",t.style.top=n+"px",this.$el.style.height=Math.max.apply(null,this.heightArray)+"px"}this.beginIndex=e.length},horizontalLineProcessor(){},reset(){this.beginIndex=0,this.$nextTick(()=>{this.verticalLineProcessor()})},addUnit(t){if(t)return t=String(t),/^\d+(\.\d+)?$/.test(t)?t+"px":t}},beforeDestroy(){window.removeEventListener("resize",()=>{clearTimeout(this.timer),this.timer=null})}},p=s,d=(i("c5cc"),i("4023")),u=Object(d["a"])(p,n,l,!1,null,"17123ab7",null),h=u.exports,c=[{url:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1591088792863&di=0aa83ac11e2be14599d4ebf18573d42e&imgtype=0&src=http%3A%2F%2Fpic1.win4000.com%2Fwallpaper%2F2017-12-19%2F5a38a56d5c4a5.jpg",title:"夏季",text:"连雨不知春去，一晴方觉夏深。"},{url:"http://pic1.win4000.com/mobile/2017-12-01/5a20ebf84d0ba.jpg",title:"夏季",text:"连雨不知春去，一晴方觉夏深。"},{url:"http://iphone.tgbus.com/UploadFiles/201504/2015040310245383.jpg",title:"夏季",text:"连雨不知春去，一晴方觉夏深。"},{url:"http://feizhuliu.vipyl.com/attached/image/20130406/20130406180099629962.jpg",title:"夏季",text:"连雨不知春去，一晴方觉夏深。"},{url:"http://img3.imgtn.bdimg.com/it/u=2404568044,1803709319&fm=26&gp=0.jpg",title:"夏季",text:"连雨不知春去，一晴方觉夏深。"},{url:"http://img4.imgtn.bdimg.com/it/u=3162504934,2889993934&fm=26&gp=0.jpg",title:"夏季",text:"连雨不知春去，一晴方觉夏深。"},{url:"http://img1.imgtn.bdimg.com/it/u=2657017419,3927504560&fm=26&gp=0.jpg",title:"夏季",text:"连雨不知春去，一晴方觉夏深。"},{url:"http://img3.imgtn.bdimg.com/it/u=785574112,3196018583&fm=11&gp=0.jpg",title:"夏季",text:"连雨不知春去，一晴方觉夏深。"},{url:"http://img1.imgtn.bdimg.com/it/u=2701495349,314918696&fm=26&gp=0.jpg",title:"夏季",text:"连雨不知春去，一晴方觉夏深。"},{url:"http://img3.imgtn.bdimg.com/it/u=3177821783,3832632740&fm=26&gp=0.jpg",title:"夏季",text:"连雨不知春去，一晴方觉夏深。"},{url:"http://img2.imgtn.bdimg.com/it/u=139232356,3628870108&fm=26&gp=0.jpg",title:"夏季",text:"连雨不知春去，一晴方觉夏深。"},{url:"http://img4.imgtn.bdimg.com/it/u=3524677476,3757920434&fm=26&gp=0.jpg",title:"夏季",text:"连雨不知春去，一晴方觉夏深。"},{url:"http://img4.imgtn.bdimg.com/it/u=291212812,4161764980&fm=26&gp=0.jpg",title:"夏季",text:"连雨不知春去，一晴方觉夏深。"},{url:"http://img0.imgtn.bdimg.com/it/u=299374006,766807760&fm=26&gp=0.jpg",title:"夏季",text:"连雨不知春去，一晴方觉夏深。"},{url:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=2384440744,863211208&fm=26&gp=0.jpg",title:"夏季",text:"连雨不知春去，一晴方觉夏深。"},{url:"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=2786034744,2260211435&fm=26&gp=0.jpg",title:"夏季",text:"连雨不知春去，一晴方觉夏深。"},{url:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2308717729,1550520880&fm=26&gp=0.jpg",title:"夏季",text:"连雨不知春去，一晴方觉夏深。"},{url:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1591088805280&di=e3f2bf4135ffd904e7b0f28a5b49033d&imgtype=0&src=http%3A%2F%2Fimg.ewebweb.com%2Fuploads%2F20200115%2F17%2F1579081301-uEwqzdyfpo.jpg",title:"夏季",text:"连雨不知春去，一晴方觉夏深。"}],g={name:"MasonryDemo",components:{Masonry:h},data(){return{imgs:c,radio:"1",width:"300",col:"3",gapWidth:"10",gapHeight:"10",radius:"5",boxShadow:"0 2px 12px 0 rgba(0, 0, 0, 0.1)",urlName:"url"}}},m=g,f=(i("dfa1"),Object(d["a"])(m,r,o,!1,null,null,null)),b=f.exports;a["a"].config.productionTip=!1,new a["a"]({render:t=>t(b)}).$mount("#app")},c5cc:function(t,e,i){"use strict";var a=i("70e1"),r=i.n(a);r.a},cbf9:function(t,e,i){var a=i("eb35");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var r=i("85cb").default;r("3e77dcfe",a,!0,{sourceMap:!1,shadowMode:!1})},dfa1:function(t,e,i){"use strict";var a=i("cbf9"),r=i.n(a);r.a},eb35:function(t,e,i){var a=i("b352");e=a(!1),e.push([t.i,"body{margin:0}#app .toolsBar{padding:20px}#app .toolsBar .label-input{margin-right:5px}#app .text{padding:8px;box-sizing:border-box}#app .text p{margin:0}#app .text p:last-of-type{font-size:14px;color:#888;margin:0}",""]),t.exports=e}});
//# sourceMappingURL=index.ff9d9813.js.map