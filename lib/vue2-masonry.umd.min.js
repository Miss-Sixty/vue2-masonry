(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["vue2-masonry"]=e():t["vue2-masonry"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s="b1c4")}({"0129":function(t,e,r){var n=r("939c");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=r("85cb").default;i("73c9c20e",n,!0,{sourceMap:!1,shadowMode:!1})},"6c57":function(t,e,r){var n,i,o;(function(r,s){i=[],n=s,o="function"===typeof n?n.apply(e,i):n,void 0===o||(t.exports=o)})("undefined"!==typeof self&&self,(function(){function t(){const e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var r,n,i,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,a=o.exec(f.stack)||s.exec(f.stack),c=a&&a[1]||!1,u=a&&a[2]||!1,l=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");c===l&&(r=document.documentElement.outerHTML,n=new RegExp("(?:[^\\n]+?\\n){0,"+(u-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=r.replace(n,"$1").trim());for(var h=0;h<d.length;h++){if("interactive"===d[h].readyState)return d[h];if(d[h].src===c)return d[h];if(c===l&&d[h].innerHTML&&d[h].innerHTML.trim()===i)return d[h]}return null}}return t}))},"85cb":function(t,e,r){"use strict";function n(t,e){for(var r=[],n={},i=0;i<e.length;i++){var o=e[i],s=o[0],a=o[1],c=o[2],u=o[3],l={id:t+":"+i,css:a,media:c,sourceMap:u};n[s]?n[s].parts.push(l):r.push(n[s]={id:s,parts:[l]})}return r}r.r(e),r.d(e,"default",(function(){return p}));var i="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},s=i&&(document.head||document.getElementsByTagName("head")[0]),a=null,c=0,u=!1,l=function(){},d=null,h="data-vue-ssr-id",f="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,r,i){u=r,d=i||{};var s=n(t,e);return g(s),function(e){for(var r=[],i=0;i<s.length;i++){var a=s[i],c=o[a.id];c.refs--,r.push(c)}e?(s=n(t,e),g(s)):s=[];for(i=0;i<r.length;i++){c=r[i];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete o[c.id]}}}}function g(t){for(var e=0;e<t.length;e++){var r=t[e],n=o[r.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](r.parts[i]);for(;i<r.parts.length;i++)n.parts.push(v(r.parts[i]));n.parts.length>r.parts.length&&(n.parts.length=r.parts.length)}else{var s=[];for(i=0;i<r.parts.length;i++)s.push(v(r.parts[i]));o[r.id]={id:r.id,refs:1,parts:s}}}}function m(){var t=document.createElement("style");return t.type="text/css",s.appendChild(t),t}function v(t){var e,r,n=document.querySelector("style["+h+'~="'+t.id+'"]');if(n){if(u)return l;n.parentNode.removeChild(n)}if(f){var i=c++;n=a||(a=m()),e=b.bind(null,n,i,!1),r=b.bind(null,n,i,!0)}else n=m(),e=x.bind(null,n),r=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else r()}}var y=function(){var t=[];return function(e,r){return t[e]=r,t.filter(Boolean).join("\n")}}();function b(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=y(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function x(t,e){var r=e.css,n=e.media,i=e.sourceMap;if(n&&t.setAttribute("media",n),d.ssrId&&t.setAttribute(h,e.id),i&&(r+="\n/*# sourceURL="+i.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=r;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}},"939c":function(t,e,r){var n=r("b352");e=n(!1),e.push([t.i,".masonry[data-v-6695b724]{position:relative}.masonry-box[data-v-6695b724]{position:absolute;overflow:hidden}",""]),t.exports=e},b1c4:function(t,e,r){"use strict";if(r.r(e),"undefined"!==typeof window){var n=window.document.currentScript,i=r("6c57");n=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var o=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(r.p=o[1])}var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"masonry"},t._l(t.imgsArr_c,(function(e,n){return r("div",{key:n,staticClass:"masonry-box",style:t.boxStyle},[r("img",{staticStyle:{display:"block"},attrs:{src:e.url,width:"100%",height:"auto"}}),t._t("default",null,{data:e,index:n})],2)})),0)},a=[],c={name:"vue2-masonry",props:{list:{type:Array,require:!0},gapWidth:{type:[String,Number],default:10,validator:t=>t>=0},gapHeight:{type:[String,Number],default:10,validator:t=>t>=0},col:{type:[String,Number],validator:t=>t>=0},radius:{type:[String,Number],default:"5"},boxShadow:{type:String,default:"0 2px 12px 0 rgba(0, 0, 0, 0.1)"},width:{type:[String,Number],default:300,validator:t=>t>=0},line:{default:"v",validator:t=>~["v","h"].indexOf(t)},urlName:{type:String,default:"url"}},data(){return{loadedCount:0,heightArray:[],imgsArr_c:[],imgBoxEls:null,beginIndex:0,clientWidth:0}},computed:{gapW(){return parseInt(this.gapWidth)},gapH(){return parseInt(this.gapHeight)},imgWidth(){return parseInt(this.width)},boxWidth(){const{col:t,clientWidth:e,imgWidth:r,gapW:n}=this;return t?(e-(t-1)*n)/t:r},colCount(){const{col:t,clientWidth:e,imgWidth:r,gapW:n}=this;return t?parseInt(t):~~((e+n)/(r+n))},getLeft(){const{col:t,clientWidth:e,boxWidth:r,colCount:n,gapW:i}=this;return t?0:(e-((r+i)*n-i))/2},boxStyle(){return{width:this.addUnit(this.boxWidth),borderRadius:this.addUnit(this.radius),boxShadow:this.boxShadow}}},watch:{list(){this.preload()},clientWidth(){this.reset()},width(){this.reset()},col(){this.reset()},gapWidth(){this.reset()},gapHeight(){this.reset()},radius(){this.reset()},boxShadow(){this.reset()},urlName(){this.reset()}},mounted(){this.preload(),this.getClientWidth(),window.addEventListener("resize",()=>{clearTimeout(this.timer),this.timer=setTimeout(this.getClientWidth,300)})},methods:{preload(){let t=this.list.length;for(let e=0;e<t;e++){if(e<this.loadedCount)return;let r=this.list[e],n=new Image;n.src=r.url,n.onload=n.onerror=e=>{this.loadedCount++,e.type,this.loadedCount===t&&(this.imgsArr_c=this.list.concat([]),this.imgBoxEls=this.$el.children,this.$nextTick(()=>{this.calculate(),this.getClientWidth()}))}}},getClientWidth(){this.clientWidth!==this.$el.clientWidth&&(this.clientWidth=this.$el.clientWidth)},calculate(){let t="h"===this.line?this.horizontalLineProcessor:this.verticalLineProcessor;t()},verticalLineProcessor(){if(!this.imgBoxEls)return;0===this.beginIndex&&(this.heightArray=[]);const{imgBoxEls:t,list:e,colCount:r,gapH:n,gapW:i,getLeft:o}=this;let s,a,c,u=this.boxWidth+i,l=t.length;for(let d=this.beginIndex;d<l;d++){let t=this.imgBoxEls[d];if(c=t.offsetHeight+n,d<r)this.heightArray.push(t.offsetHeight),a=d*u+o,s=0;else{let t=Math.min.apply(null,this.heightArray),e=this.heightArray.indexOf(t);s=t+n,a=e*u+o,this.heightArray[e]=t+c}t.style.left=a+"px",t.style.top=s+"px",this.$el.style.height=Math.max.apply(null,this.heightArray)+"px"}this.beginIndex=e.length},horizontalLineProcessor(){},reset(){this.beginIndex=0,this.$nextTick(()=>{this.verticalLineProcessor()})},addUnit(t){if(t)return t=String(t),/^\d+(\.\d+)?$/.test(t)?t+"px":t}},beforeDestroy(){window.removeEventListener("resize",()=>{clearTimeout(this.timer),this.timer=null})}},u=c;r("c838");function l(t,e,r,n,i,o,s,a){var c,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=r,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=a?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:u}}var d=l(u,s,a,!1,null,"6695b724",null),h=d.exports;e["default"]=h},b352:function(t,e,r){"use strict";function n(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"===typeof btoa){var o=i(n),s=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[r].concat(s).concat([o]).join("\n")}return[r].join("\n")}function i(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(r," */")}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=n(e,t);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,n){"string"===typeof t&&(t=[[null,t,""]]);var i={};if(n)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);n&&i[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),e.push(c))}},e}},c838:function(t,e,r){"use strict";var n=r("0129"),i=r.n(n);i.a}})["default"]}));
//# sourceMappingURL=vue2-masonry.umd.min.js.map